<VirtualHost *:80>

    ServerName  sereneuapi.sereneu.xyz
    ServerAdmin webmaster@localhost

    Alias /static /home/sereneu/static
    <Directory /home/sereneu/static>
        Require all granted
    </Directory>

    Alias /media /home/sereneu/media
    <Directory /home/sereneu/media>
        Require all granted
    </Directory>
    
    <Directory /home/sereneu/main>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>
  
    WSGIPassAuthorization On 
    WSGIDaemonProcess sereneu_api python-path=/home/sereneu python-home=/home/sereneu/env
    WSGIProcessGroup sereneu_api
    WSGIScriptAlias / /home/sereneu/main/wsgi.py

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

RewriteEngine on
RewriteCond %{SERVER_NAME} =sereneuapi.sereneu.xyz
RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>
